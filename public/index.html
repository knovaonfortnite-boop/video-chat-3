<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Video Chat</title>
<style>
  :root { --bg:#000; --panel:#111; --muted:#222; }
  html,body { height:100%; margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; background:var(--bg); color:#fff; }
  .app { display:flex; height:100vh; overflow:hidden; }

  /* sidebar */
  #sidebar { width:260px; background:var(--panel); border-right:1px solid #222; padding:12px; box-sizing:border-box; display:flex; flex-direction:column; }
  #sidebar h3 { margin:0 0 10px 0; font-size:16px; color:#eee; }
  #userList { list-style:none; padding:0; margin:0; overflow:auto; flex:1; }
  #userList li { padding:10px; margin-bottom:8px; background:var(--muted); border-radius:8px; cursor:pointer; transition:background .15s; }
  #userList li:hover { background:#2b2b2b; }
  #sidebar .closeBtn { margin-top:8px; background:#333; border:none; color:#fff; padding:8px 10px; border-radius:6px; cursor:pointer; }

  /* main area */
  #main { flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:18px; box-sizing:border-box; }
  #videoContainer { width:100%; max-width:1200px; display:grid; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); gap:14px; }
  .videoBox { position:relative; background:#000; border-radius:12px; overflow:hidden; min-height:200px; transition: transform 0.3s, opacity 0.5s; }
  video { width:100%; height:100%; object-fit:cover; display:block; background:#000; }
  .labelOverlay { position:absolute; left:8px; bottom:8px; padding:6px 10px; border-radius:8px; background:rgba(0,0,0,0.5); font-weight:600; }
  .nameBox { display:flex; align-items:center; justify-content:center; width:100%; height:100%; color:#fff; font-size:20px; font-weight:700; }

  /* controls */
  #controls { margin-top:16px; display:flex; gap:8px; }
  button { background:#3b82f6; color:#fff; border:0; padding:10px 14px; border-radius:8px; cursor:pointer; font-weight:700; }
  button:disabled { opacity:0.5; cursor:not-allowed; }

  /* pulse animation */
  @keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); }
    70% { box-shadow: 0 0 20px 10px rgba(59, 130, 246, 0); }
    100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
  }

  @media(max-width:800px) {
    #sidebar { width:180px; }
    .labelOverlay { font-size:13px; }
  }
</style>
</head>
<body>
<div class="app">
  <div id="sidebar">
    <h3>Online Users</h3>
    <ul id="userList"></ul>
    <button class="closeBtn" id="closeSidebar">Close</button>
  </div>

  <div id="main">
    <div id="videoContainer">
      <div class="videoBox" id="localBox">
        <video id="localVideo" autoplay muted playsinline></video>
        <div class="labelOverlay" id="localLabel">You</div>
      </div>
    </div>

    <div id="controls">
      <button id="startBtn">Start Camera</button>
      <button id="toggleCamBtn" disabled>Turn Camera Off</button>
      <button id="hangupBtn" disabled>Hang Up</button>
    </div>
  </div>
</div>

<script src="client.js"></script>
</body>
</html>
